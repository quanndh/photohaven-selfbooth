# Folder to watch for new subfolders (input)
watch_folder: "../watched"

# Lightroom workflow folders
lightroom_watched_folder: "../lightroom_watched"  # Where renamed images are moved for Lightroom
lightroom_destination_folder: "../lightroom_processed"  # Where Lightroom exports processed images

# Output configuration
output_base_folder: "../output"  # Base folder where processed images are moved
output_folder: "processed"  # Subfolder name within each folder (e.g., output/folder_name/processed/)

# Filename separator (used to separate folder name from original filename)
# Use a sequence that's unlikely to appear in folder names or filenames
filename_separator: "___"  # Triple underscore separator

# Folder watching timeout (how long to watch child folders for new images)
folder_watch_timeout_minutes: 20  # Stop watching and delete folder after this time

# Note: The system watches watch_folder for parent folders, then watches for the FIRST
# subfolder created inside each parent folder. Images are processed using the parent
# folder name, not the subfolder name. This avoids encoding issues with non-ASCII folder names.

# Supported image extensions
supported_extensions:
  raw:
    - ".cr2" # Canon
    - ".nef" # Nikon
    - ".arw" # Sony
    - ".dng" # Adobe DNG
    - ".raf" # Fujifilm
    - ".orf" # Olympus
    - ".rw2" # Panasonic
    - ".cr3" # Canon (newer)
  standard:
    - ".jpg"
    - ".jpeg"
    - ".tif"
    - ".tiff"
    - ".png"

# Processing settings
processing:
  # Debounce time in seconds (wait before processing after folder creation)
  debounce_seconds: 2

  # Maximum concurrent processing jobs
  max_concurrent_jobs: 2

  # Processing threshold: maximum number of images being processed per folder
  # When threshold is reached, new images are held until counter decreases
  processing_threshold: 5  # Hold new images if this many are already being processed

# Image cleanup settings (runs every 30 minutes by default)
cleanup:
  enabled: true  # Enable/disable automatic cleanup
  folders:  # Folders to clean up (delete images older than max_age_minutes)
    - "../lightroom_des/images"
  max_age_minutes: 30  # Delete images older than this (minutes)
  interval_minutes: 30  # Run cleanup every N minutes

# Logging
logging:
  level: "INFO" # DEBUG, INFO, WARNING, ERROR - Use DEBUG to see all file system events
  file: "preset_processor.log"
  console: true
